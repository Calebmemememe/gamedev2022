<head>
    <link rel="stylesheet" href="global.css">
    <title>objects</title>
</head>
<body>
    <input type="button" value="start" onclick="{
        main();
    }"><br>
    <canvas id="myCanvas" class="myCanvas" width="1000" height="500" style="border: 1px solid #000000;"></canvas>
<script>
    let scale = 1;
    let speed = 1;
    let canvas;
    let ctx;

    let block1 = {
        x: 100,
        y: 0,
        xspeed: 0,
        yspeed: 1,
        width: 30,
        height: 30
    };

    let block2 = {
        x: 200,
        y: 0,
        xspeed: 0,
        yspeed: 1.2,
        width: 30,
        height: 30
    };

    let block3 = {
        x: 300,
        y: 0,
        xspeed: 0,
        yspeed: 1.3,
        width: 30,
        height: 30
    };

    let block4 = {
        x: 400,
        y: 0,
        xspeed: 0,
        yspeed: 1.4,
        width: 30,
        height: 30
    };

function main() {
    canvas = document.getElementById("myCanvas");
    ctx = canvas.getContext("2d");

    update();
}

function update() {
    setTimeout(() => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        draw1();
        draw2();
        draw3();
        draw4();
        checkHitBox();
        update();   
    }, speed)
}

function draw1() {
    ctx.fillStyle = 'red';
        ctx.fillRect(block1.x, block1.y, block1.width, block1.height);
        block1.x += block1.xspeed;
        block1.y += block1.yspeed; 
}

function draw2() {
    ctx.fillStyle = 'blue';
        ctx.fillRect(block2.x, block2.y, block2.width, block2.height);
        block2.x += block2.xspeed;
        block2.y += block2.yspeed; 
}

function draw3() {
    ctx.fillStyle = 'green';
        ctx.fillRect(block3.x, block3.y, block3.width, block3.height);
        block3.x += block3.xspeed;
        block3.y += block3.yspeed; 
}

function draw4() {
    ctx.fillStyle = 'yellow';
        ctx.fillRect(block4.x, block4.y, block4.width, block4.height);
        block4.x += block4.xspeed;
        block4.y += block4.yspeed; 
}

function checkHitBox(){
    collision1();   
    collision2();  
    collision3();   
    collision4(); 
}

function collision1() {
    if (block1.x + block1.width >= canvas.width || block1.x <= 0){
        block1.xspeed *= -1;
    }
        
    if (block1.y + block1.height >= canvas.height || block1.y <= 0){
        block1.yspeed *= -1;
    } 
}

function collision2() {
    if (block2.x + block2.width >= canvas.width || block2.x <= 0){
        block2.xspeed *= -1;
    }
        
    if (block2.y + block2.height >= canvas.height || block2.y <= 0){
        block2.yspeed *= -1;
    } 
}

function collision3() {
    if (block3.x + block3.width >= canvas.width || block3.x <= 0){
        block3.xspeed *= -1;
    }
        
    if (block3.y + block3.height >= canvas.height || block3.y <= 0){
        block3.yspeed *= -1;
    } 
}

function collision4() {
    if (block4.x + block4.width >= canvas.width || block4.x <= 0){
        block4.xspeed *= -1;
    }
        
    if (block4.y + block4.height >= canvas.height || block4.y <= 0){
        block4.yspeed *= -1;
    } 
}
</script>

</body>